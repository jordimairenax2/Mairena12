<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Configurador Académico de Horarios</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="hero">
      <h1>Configuración académica de horarios</h1>
      <p>Ahora puedes adjuntar el CSV de clases por carrera y generar horarios automáticamente.</p>
    </header>

    <main class="layout">
      <nav class="tabs" aria-label="Secciones principales">
        <button class="tab-btn active" type="button" data-tab="principal">Principal</button>
        <button class="tab-btn" type="button" data-tab="configuracion">Configuración</button>
      </nav>

      <section id="tab-principal" class="tab-panel active">
        <section class="card">
          <h2>1. Adjuntar clases por carrera</h2>
          <p class="hint">Sube un CSV por cada carrera. El archivo queda asociado a coordinación + carrera.</p>
          <form id="adjuntarClasesForm" class="stacked-form">
            <div class="grid-2">
              <label>
                Coordinación
                <select id="coordinacionAdjunta" required>
                  <option value="">Selecciona una coordinación</option>
                </select>
              </label>
              <label>
                Carrera
                <select id="carreraAdjunta" required>
                  <option value="">Selecciona una carrera</option>
                </select>
              </label>
            </div>
            <label>
              CSV de clases (campos: clase,año,créditos,categorías,compartida)
              <input type="file" id="csvClases" accept=".csv,text/csv" required />
            </label>
            <button type="submit">Adjuntar CSV</button>
          </form>
          <ul id="listaClasesAdjuntas" class="simple-list"></ul>
        </section>

        <section class="card">
          <h2>2. Generar horario</h2>
          <p class="hint">Selecciona una carrera que ya tenga clases adjuntas y un turno configurado.</p>
          <form id="generarHorarioForm" class="stacked-form">
            <div class="grid-3">
              <label>
                Coordinación
                <select id="coordinacionPrincipal" required>
                  <option value="">Selecciona una coordinación</option>
                </select>
              </label>
              <label>
                Carrera
                <select id="carreraPrincipal" required>
                  <option value="">Selecciona una carrera</option>
                </select>
              </label>
              <label>
                Turno
                <select id="turnoPrincipal" required>
                  <option value="">Selecciona un turno</option>
                </select>
              </label>
            </div>
            <button type="submit">Generar horarios por año</button>
          </form>
        </section>

        <section class="card">
          <h2>Resultado de generación</h2>
          <ul id="listaHorarios" class="simple-list"></ul>
        </section>
      </section>

      <section id="tab-configuracion" class="tab-panel">
        <section class="card">
          <h2>1. Configuración general académica</h2>
          <form id="generalForm" class="stacked-form">
            <label>
              Coordinación
              <input type="text" id="nombreCoordinacion" required placeholder="Ej: AQT" />
            </label>
            <label>
              Carreras asociadas (separadas por coma)
              <input type="text" id="carrerasCoordinacion" required placeholder="Ej: Arquitectura,Sistemas" />
            </label>
            <button type="submit">Guardar coordinación</button>
          </form>
          <ul id="listaCoordinaciones" class="simple-list"></ul>
        </section>

        <section class="card">
          <h2>2. Configuración de docentes y categorías</h2>
          <form id="categoriaForm" class="stacked-form">
            <label>
              Nueva categoría (independiente)
              <input type="text" id="nombreCategoria" required placeholder="Ej: Matemática" />
            </label>
            <button type="submit">Registrar categoría</button>
          </form>
          <ul id="listaCategorias" class="simple-list"></ul>

          <hr />

          <form id="docenteForm" class="stacked-form">
            <label>
              Nombre del docente
              <input type="text" id="nombreDocente" required placeholder="Ej: Ana López" />
            </label>
            <label>
              Categorías del docente (puede elegir varias)
              <select id="categoriasDocente" multiple required></select>
            </label>
            <button type="submit">Registrar docente</button>
          </form>
          <ul id="listaDocentes" class="simple-list"></ul>
        </section>

        <section class="card">
          <h2>3. Configuración de turno y reglas horarias</h2>
          <p class="hint">
            El turno se guarda como una configuración integrada: prioridad por día, hora de inicio,
            minutos/créditos por bloque, receso y almuerzo.
          </p>
          <form id="turnoForm" class="stacked-form">
            <div class="grid-2">
              <label>
                Nombre del turno
                <input type="text" id="nombreTurno" required placeholder="Ej: Diurno" />
              </label>
              <label>
                Días del turno (separados por coma)
                <input type="text" id="diasTurno" required placeholder="Lunes,Martes,Miércoles,Jueves,Viernes" />
              </label>
            </div>
            <label>
              Prioridad por día (formato Día:prioridad, Día:prioridad)
              <input type="text" id="prioridadDias" required placeholder="Lunes:1,Martes:2,Miércoles:3" />
            </label>
            <div class="grid-3">
              <label>
                Hora de inicio
                <input type="time" id="horaInicio" required />
              </label>
              <label>
                Minutos por bloque
                <input type="number" id="minutosBloque" min="1" required />
              </label>
              <label>
                Créditos por bloque
                <input type="number" id="creditosBloque" min="1" required />
              </label>
            </div>
            <div class="grid-2">
              <label>
                Hora de receso
                <input type="time" id="horaReceso" required />
              </label>
              <label>
                Hora de almuerzo
                <input type="time" id="horaAlmuerzo" required />
              </label>
            </div>
            <button type="submit">Guardar turno integrado</button>
          </form>
          <ul id="listaTurnos" class="simple-list"></ul>
        </section>
      </section>

      <section class="card">
        <h2>Resumen</h2>
        <div id="resumen" class="resumen vacío">Aún no hay configuración guardada.</div>
      </section>
    </main>

    <script src="script.js"></script>
  </body>
</html>
